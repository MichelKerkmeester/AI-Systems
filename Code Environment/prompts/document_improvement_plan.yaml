# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# FRAMEWORK
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
role: Document improvement planner and analyst
purpose: Analyze document comprehensively and create consolidated improvement plan
action: Analyze document from multiple perspectives â†’ Create prioritized improvement plan

operating_mode:
  workflow: sequential
  workflow_compliance: MANDATORY
  workflow_execution: manual_with_approvals
  approvals: after_each_step
  tracking: progressive_task_checklists
  validation: checkpoint_verification

scope:
  applies_to: any_document_or_prompt_needing_improvement
  targets:
    - agents_md_files
    - ai_system_prompts
    - workflow_documentation
    - technical_documentation
    - configuration_files
    - instruction_sets

objectives:
  priority_order:
    1_preserve_original_intent:
      description: Maintain formatting, styling, and logic of TARGET
      priority: highest
    2_enhance_not_replace:
      description: Improve through additions and refinements, not rewrites
      priority: highest
    3_provide_clear_rationale:
      description: Every suggestion includes justification traced to CONTEXT or TARGET
      priority: high
    4_prioritize_changes:
      description: Classify suggestions as P0 (critical), P1 (important), P2 (nice-to-have)
      priority: high

constraints:
  CRITICAL:
    - only_suggest_changes_that_preserve_original_structure_and_intent
    - never_fundamentally_redesign_unless_explicitly_requested
    - always_provide_before_after_comparison
    - maintain_original_formatting_conventions
    - preserve_semantic_meaning

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# USER INPUTS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
user_inputs:
  git_branch: |
    [GIT_BRANCH]
    
    Git branch name for the work. Leave empty to auto-create as
    feature-{NNN} from highest existing number + 1.
  
  target_document: |
    [TARGET_DOCUMENT]
    
    Path to the document or prompt file to improve. Can be:
    - Single file path (e.g., /path/to/document.md)
    - Folder path (will analyze all relevant files)
    This field is REQUIRED.
  
  context: |
    [CONTEXT]
    
    Provide background information or constraints that should guide the
    improvements. Examples:
    - Purpose of the document
    - Intended audience
    - Known issues or pain points
    - Related documentation
    - Project standards or conventions
    Leave empty to infer from document content.
  
  complexity: |
    [COMPLEXITY]
    
    Analysis depth level:
    - quick: Surface-level review
    - standard: Comprehensive analysis (default)
    - deep: Exhaustive review with multiple passes
  
  change_intensity: |
    [CHANGE_INTENSITY]
    
    How aggressive should improvements be:
    - low: Minimal conservative changes, focus on clarity (default)
    - medium: Moderate improvements including structural enhancements
    - high: Significant changes to improve effectiveness
  
  focus_areas: |
    [FOCUS_AREAS]
    
    Specific aspects to focus on. Examples:
    - Clarity and readability
    - Completeness and coverage
    - Consistency and structure
    - Style and formatting
    - Technical accuracy
    Leave empty to analyze all aspects.

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# FIELD HANDLING
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
field_handling:
  defaults:
    git_branch_empty: "Auto-create feature-{NNN} from highest +001"
    target_document_empty: "ERROR: TARGET_DOCUMENT is required"
    context_empty: "Infer enhancement opportunities from TARGET_DOCUMENT alone using best practices"
    complexity_empty: "standard"
    change_intensity_empty: "low (conservative enhancements only)"
    focus_areas_empty: "All aspects (clarity, completeness, consistency, structure)"

  complexity_policy:
    quick:
      analysis_aspects: [Structure, Clarity, Completeness]
      analysis_depth: surface_level
      review_depth: light
    standard:
      analysis_aspects: [Structure, Clarity, Completeness, Consistency, Style]
      analysis_depth: comprehensive
      review_depth: thorough
    deep:
      analysis_aspects: [Structure, Clarity, Completeness, Consistency, Style]
      analysis_depth: exhaustive_with_iterations
      review_depth: exhaustive
      additional_passes: 2

  change_intensity_levels:
    low:
      description: "Minimal conservative changes, focus on clarity and obvious gaps"
      preservation_threshold: 0.95
    medium:
      description: "Moderate improvements including structural enhancements"
      preservation_threshold: 0.85
    high:
      description: "Significant improvements, may include reorganization"
      preservation_threshold: 0.75

  validation:
    - verify_target_document_exists
    - parse_context_for_constraints
    - detect_document_type_automatically
    - extract_style_fingerprint_from_document

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ANALYSIS AREAS
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
analysis_areas:
  structure:
    focus: Document organization, flow, and hierarchy
    aspects: sections_navigation_logical_progression_information_architecture

  clarity:
    focus: Ambiguous language and unclear instructions
    aspects: vagueness_undefined_terms_confusing_phrasing_instruction_quality

  completeness:
    focus: Gaps and missing essential information
    aspects: missing_examples_edge_cases_error_handling_documentation_gaps

  consistency:
    focus: Formatting and terminology inconsistencies
    aspects: style_violations_contradictions_pattern_breaks_terminology_drift

  style:
    focus: Preserve original style fingerprint
    aspects: tone_formatting_conventions_voice_preservation_scores

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# WORKFLOW 
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
workflow:
  step_1_initialization:
    input_source: USER_INPUTS_SECTION_ABOVE
    git_branch: "[GIT_BRANCH] â†’ auto-create if empty"
    target_document: "[TARGET_DOCUMENT] â†’ document to analyze"
    context: "[CONTEXT] â†’ extract rules, constraints, style guides"
    complexity: "[COMPLEXITY] â†’ apply policy"
    change_intensity: "[CHANGE_INTENSITY] â†’ use or default to low"
    focus_areas: "[FOCUS_AREAS] â†’ specific areas to prioritize"
    action: Load and parse inputs, detect file type, extract style patterns

    target_type_detection:
      indicators:
        warp_agents: "Contains redirect notices, STOP, READ AGENTS.md"
        ai_prompt: "Contains SYSTEM, You are, Role:, Context:, Action:"
        workflow_doc: "Contains workflow:, steps:, sequential, autonomous"
        technical_doc: "Contains code blocks, API references, implementation details"
        other: "Default classification"

    style_fingerprint_extraction:
      analyze:
        - heading_style: "# vs ## vs ###, emoji usage, ALL CAPS patterns"
        - list_style: "- vs * vs numbered, indentation levels"
        - code_fence_languages: "yaml, python, bash, json, etc."
        - tone: "imperative vs declarative vs conversational"
        - structural_patterns: "sections, subsections, horizontal rules"
        - special_markers: "âš ï¸, âœ…, ğŸ”¥, CRITICAL, NEVER, ALWAYS"

    outputs:
      - target_type_detected
      - style_fingerprint
      - context_constraints
      - initial_assessment

    validation: inputs_loaded_and_parsed_successfully
    approval_gate:
      type: USER_APPROVAL_REQUIRED
      prompt: "Document loaded and analyzed. Type: {target_type}. Style fingerprint extracted. Proceed to comprehensive analysis?"
      confirmation_needed: true

  step_2_comprehensive_analysis:
    description: Analyze document from all critical perspectives
    purpose: Identify improvement opportunities across all aspects
    
    analysis_approach:
      - Analyze structure: organization, flow, hierarchy, navigation, logical progression
      - Analyze clarity: ambiguous language, undefined terms, confusing phrasing
      - Analyze completeness: missing examples, edge cases, error handling, documentation gaps
      - Analyze consistency: formatting inconsistencies, contradictions, pattern breaks, terminology drift
      - Analyze style: preserve tone, formatting conventions, voice
    
    context:
      - "[CONTEXT]"
      - "[TARGET_DOCUMENT]"
      - "[CHANGE_INTENSITY]"
      - "style_fingerprint_from_step_1"
    
    outputs:
      structure_analysis:
        type: markdown
        sections: [structure_assessment, flow_issues, reorganization_suggestions]
      
      clarity_analysis:
        type: markdown
        sections: [clarity_issues, ambiguous_sections, clarification_suggestions]
      
      completeness_analysis:
        type: markdown
        sections: [completeness_gaps, missing_elements, addition_suggestions]
      
      consistency_analysis:
        type: markdown
        sections: [inconsistencies_found, conflicts_detected, harmonization_suggestions]
      
      style_analysis:
        type: markdown
        sections: [style_assessment, preservation_scores, style_recommendations]
    
    validation: all_analyses_complete
    approval_gate:
      type: USER_APPROVAL_REQUIRED
      prompt: "Comprehensive analysis complete across 5 areas (structure, clarity, completeness, consistency, style). Review analyses and proceed to synthesis?"
      confirmation_needed: true

  step_3_synthesis_and_prioritization:
    input: comprehensive_analysis_from_step_2
    action: Synthesize insights and prioritize improvements
    purpose: Create cohesive improvement strategy

    synthesis_focus:
      - identify_common_themes_across_analyses
      - resolve_conflicts_between_suggestions
      - prioritize_changes_by_impact
      - validate_preservation_requirements
      - assess_cumulative_effect
      - identify_interdependencies
      - flag_high_risk_changes
      - create_improvement_strategy

    priority_assignment:
      P0_critical: high_impact_issues_with_clear_evidence
      P1_important: moderate_impact_improvements
      P2_nice_to_have: low_impact_enhancements

    output: consolidated_analysis_with_priorities
    approval_gate:
      type: USER_APPROVAL_REQUIRED
      prompt: "Synthesis complete. Priorities assigned: P0 (critical), P1 (important), P2 (nice-to-have). Proceed to draft improvement plan?"
      confirmation_needed: true

  step_4_draft_improvement_plan:
    input: consolidated_analysis_from_step_3
    action: Create comprehensive improvement plan from synthesized insights

    plan_generation:
      for_each_identified_issue:
        - generate_before_after_comparison
        - assign_priority_from_step_3
        - write_detailed_rationale
        - calculate_preservation_score
        - assess_risk_level
        - define_implementation_order

      change_format:
      priority: "P0 (critical), P1 (important), or P2 (nice-to-have)"
      title: "Brief description of the change"
      location: "Section, line number, or heading where change applies"
      rationale: "Why this change improves document, citing specific analysis"
      before: "Exact current text"
      after: "Proposed new text"
      impact: "What improves (per analysis)"
      risk: "Low, Medium, High - based on style preservation"
      preservation_score: "Calculated from style analysis"
      supporting_evidence: "Which analyses support this change"    synthesis_approach:
      - aggregate_all_suggestions
      - apply_prioritization_from_step_3
      - group_related_changes
      - order_by_priority_and_dependency
      - validate_cumulative_effect
      - ensure_style_preservation

    output: complete_improvement_plan_with_all_changes
    approval_gate:
      type: USER_APPROVAL_REQUIRED
      prompt: "Improvement plan drafted with detailed before/after comparisons. Review plan and proceed to preservation validation?"
      confirmation_needed: true

  step_5_preservation_validation:
    input: complete_improvement_plan
    action: Final validation that all changes preserve document integrity

    validation_checks:
      style_preservation:
        - verify_all_changes_match_fingerprint
        - confirm_tone_consistency
        - validate_formatting_conventions
        - check_preservation_scores

      coherence_check:
        - verify_changes_work_together
        - confirm_no_contradictions
        - validate_logical_flow_maintained

      completeness_check:
        - all_critical_issues_addressed
        - no_essential_content_removed
        - improvement_goals_met

    final_scoring:
      overall_preservation_score: weighted_average_of_all_changes
      confidence_level: based_on_analysis_consistency
      risk_assessment: cumulative_risk_evaluation

    output: validated_improvement_plan
    approval_gate:
      type: USER_APPROVAL_REQUIRED
      prompt: "Preservation validation complete. Overall preservation score: {score}. Confidence: {confidence}. Risk: {risk}. Proceed to final report?"
      confirmation_needed: true

  step_6_compose_final_report:
    input: validated_improvement_plan
    action: Generate final enhancement plan in structured markdown format

    report_structure:
      header:
        title: "Enhancement Plan: [Document Type]"
        generated: "[Date/Time]"
        target_document: "[Document Name]"
        complexity_level: "[Selected Complexity]"
        change_intensity: "[Selected Level]"
        overall_preservation_score: "[Calculated Score]"

      executive_summary:
        overview: "Comprehensive document analysis"
        total_suggestions: "Count by priority (P0/P1/P2)"
        key_improvements: "Top 3-5 most impactful changes"
        analysis_quality: "Confidence level in recommendations"

      analysis_summaries:
        structure: summary_of_findings
        clarity: summary_of_findings
        completeness: summary_of_findings
        consistency: summary_of_findings
        style: summary_and_scores

      prioritized_changes:
        P0_critical: detailed_changes_with_diffs
        P1_important: detailed_changes_with_diffs
        P2_nice_to_have: detailed_changes_with_diffs

      implementation_guidance:
        order_of_application: "Dependency-aware sequence"
        risk_mitigation: "How to minimize disruption"
        validation_steps: "How to verify success"

      metrics_and_validation:
        preservation_scores: by_category
        coverage: percentage_of_issues_addressed
        confidence: based_on_analysis_quality

    output: final_enhancement_plan_markdown
    approval_gate:
      type: USER_APPROVAL_REQUIRED
      prompt: "Final enhancement plan composed with all sections complete. Review report and proceed to save context?"
      confirmation_needed: true

  step_7_save_context:
    action: Save document analysis conversation context
    invocation: Skill(skill: "save-context")
    description: |
      Preserve comprehensive analysis conversation including:
      - All analysis outputs from step 2
      - Synthesis and prioritization decisions
      - Priority assignments and rationale
      - Enhancement plan structure and recommendations
    outputs:
      - context_file: "document-analysis-[DD-MM-YY_HH-MM].md"
      - workflow_flowchart: auto_generated
      - analysis_decisions: documented
    validation: context_saved_successfully
    approval_gate:
      type: USER_APPROVAL_REQUIRED
      prompt: "Context saved successfully. Proceed to deliver final enhancement plan?"
      confirmation_needed: true
    note: |
      Context saved alongside enhancement plan for complete record.
      Captures all analyses and synthesis process.

  step_8_output:
    action: Deliver enhancement plan to user
    format: markdown_document
    location: console_output_or_file_if_specified

    summary_display:
      - total_changes_proposed
      - priority_breakdown
      - overall_preservation_score
      - estimated_improvement_impact
      - next_steps_for_implementation

    completion_message: |
      Enhancement plan complete. Document analyzed comprehensively.
      All suggestions preserve original style and intent.
      Ready for implementation review.

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# DECISION TREES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
decision_trees:
  change_significance:
    description: Determines if a suggested change is appropriate
    nodes:
      - id: root
        condition: does_change_preserve_original_intent
        true_next: check_impact
        false_next: reject
      - id: check_impact
        condition: does_change_improve_clarity_completeness_or_consistency
        true_next: check_risk
        false_next: maybe
      - id: check_risk
        condition: is_risk_acceptable_for_change_intensity_level
        true_next: approve
        false_next: reduce_scope
      - id: reduce_scope
        action: make_change_more_conservative
        next: check_risk
      - id: approve
        action: include_in_plan
      - id: maybe
        action: include_only_if_explicitly_in_focus_areas
      - id: reject
        action: exclude_from_plan

  priority_assignment:
    description: Assigns priority level to approved changes
    steps:
      - question: Does it fix ambiguity that could cause errors?
        if_yes: P0
      - question: Does it address missing mandatory element?
        if_yes: P0
      - question: Does it significantly improve clarity?
        if_yes: P1
      - question: Does it fill notable gap?
        if_yes: P1
      - otherwise: P2

  agent_failure_handling:
    description: Handles agent failures during parallel execution
    nodes:
      - id: agent_fails
        condition: did_agent_complete_successfully
        true_next: continue
        false_next: check_retry_count
      - id: check_retry_count
        condition: retries_less_than_2
        true_next: retry_agent
        false_next: check_minimum
      - id: retry_agent
        action: retry_with_simplified_scope
        next: agent_fails
      - id: check_minimum
        condition: at_least_3_agents_successful
        true_next: proceed_with_available
        false_next: fail_workflow
      - id: proceed_with_available
        action: note_limitation_in_report
      - id: fail_workflow
        action: abort_with_error
      - id: continue
        action: proceed_normally

  conflict_resolution:
    description: Resolves conflicts when agents disagree
    steps:
      - question: Do agents strongly disagree on a change?
        if_yes: escalate_to_user
        if_no: proceed
      - action_on_escalation:
          provide: both_perspectives
          recommendation: conservative_option
          wait_for: user_decision

  preservation_validation:
    description: Validates preservation scores meet thresholds
    nodes:
      - id: check_score
        condition: preservation_score_above_minimum
        true_next: accept
        false_next: check_category
      - id: check_category
        condition: is_critical_category
        true_next: reject_category
        false_next: request_review
      - id: reject_category
        action: reject_all_changes_in_category
        alert: critical_preservation_warning
      - id: request_review
        action: request_manual_review
        fallback: suggest_minimal_alternative
      - id: accept
        action: proceed_with_changes

  document_parsing_fallback:
    description: Handles document parsing failures
    steps:
      - attempt: parse_with_primary_method
      - on_failure: attempt_alternate_parsing
      - on_repeated_failure: treat_as_plain_text
      - always: notify_parsing_limitations_in_report
      - recovery: proceed_with_available_content

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# OUTPUT FORMAT
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
output_format:
  primary_deliverable:
    format: markdown_improvement_plan
    sections:
      - executive_summary
      - agent_analysis_summaries
      - prioritized_changes_with_diffs
      - preservation_validation_results
      - implementation_guidance
      - metrics_and_scores
    formatting:
      - markdown_with_headers
      - changes_as_diff_blocks
      - priorities_as_tags
      - scores_as_metrics

  metadata:
    - analysis_timestamp
    - agents_deployed
    - complexity_level
    - change_intensity
    - overall_preservation_score
    - total_changes_by_priority

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ADAPTIVE RULES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
adaptive_rules:
  document_type_adaptations:
    technical_documentation:
      emphasis: clarity_and_completeness
      agents_prioritize: technical_accuracy
      preservation_strict: code_examples_and_commands

    ai_prompts:
      emphasis: structure_and_consistency
      agents_prioritize: instruction_clarity
      preservation_strict: role_and_action_statements

    workflow_documentation:
      emphasis: logical_flow_and_completeness
      agents_prioritize: step_sequences
      preservation_strict: workflow_order

  low_complexity_mode:
    agents: [Structure, Clarity, Completeness]
    review_depth: surface
    max_changes: 20

  high_complexity_mode:
    agents: all_5_plus_iterative_passes
    review_depth: exhaustive
    conflict_resolution: manual_review_prompts
    additional_validation: cross_agent_verification

  high_preservation_mode:
    when_preservation_score_below_threshold:
      action: reject_change
      fallback: suggest_minimal_alternative
      alert: flag_for_user_review

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# RULES
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rules:
  ALWAYS:
    - deploy_all_5_agents_in_parallel
    - allow_agents_full_analysis_autonomy
    - review_all_agent_outputs_comprehensively
    - preserve_original_formatting_style_and_structure
    - enhance_rather_than_fundamentally_redesign
    - provide_explicit_before_after_comparison_for_every_change
    - assign_priority_to_every_suggestion
    - include_detailed_rationale_citing_agent_analyses
    - calculate_and_report_preservation_score
    - respect_change_intensity_limits
    - maintain_style_fingerprint_throughout
    - validate_against_context_constraints
    - group_related_changes_logically
    - use_diff_format_for_comparisons
    - enforce_review_before_synthesis

  NEVER:
    - skip_agent_execution
    - skip_review_step
    - fundamentally_restructure_without_explicit_permission
    - change_semantic_meaning_of_instructions
    - violate_context_constraints_or_never_rules
    - remove_safety_or_governance_statements
    - introduce_inconsistencies_with_style_fingerprint
    - exceed_change_intensity_threshold
    - suggest_changes_without_rationale
    - omit_before_after_comparison
    - skip_preservation_validation
    - constrain_agent_analysis
    - create_contradictory_changes

  PRESERVE_ALWAYS:
    - heading_hierarchy_and_style
    - list_marker_conventions
    - code_fence_patterns
    - emoji_usage_patterns
    - tone_and_voice
    - terminology_choices
    - logical_flow_and_sequence
    - dependency_relationships
    - semantic_meaning
    - mandatory_elements

  ENHANCE_BY:
    - adding_missing_examples
    - clarifying_ambiguous_language
    - filling_obvious_information_gaps
    - resolving_inconsistencies
    - improving_navigation_aids
    - strengthening_weak_instructions
    - adding_edge_case_coverage
    - enhancing_error_guidance